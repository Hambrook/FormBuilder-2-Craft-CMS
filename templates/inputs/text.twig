{%- set type = (type is defined ? type : 'text') %}
{%- set id = (id is defined ? id : null) %}
{%- set label = (label is defined and label != '__blank__' ? label : null) %}
{%- set locale = ((craft.isLocalized() and locale is defined) ? locale : null) %}
{%- set instructions = (instructions is defined ? instructions : null) %}
{%- set placeholder = (placeholder is defined ? placeholder : null) %}
{%- set orientation = craft.i18n.getLocaleData(locale ?: craft.locale).getOrientation() %}
{%- set errors = (errors is defined ? errors : null) -%}

{%- set class = [
  'text',
  (class is defined and class ? class : null),
  (placeholder is defined and placeholder ? 'nicetext' : null),
  (type is defined and type == 'password' ? 'password' : null),
  (disabled is defined and disabled ? 'disabled' : null),
  (size is defined and size ? null : 'fullwidth')
]|filter|join(' ') %}


{%- if showCharsLeft is defined and showCharsLeft and maxlength is defined and maxlength %}
  {%- set style = 'padding-'~(craft.i18n.getLocaleData().getOrientation() == 'ltr' ? 'right' : 'left')~': '~(7.2*maxlength|length+14)~'px;' %}
{%- endif %}

<div class="field{% if first is defined and first %} first{% endif %}"{% if id %} id="{{ id }}-field"{% endif %}>
  {% if label or instructions %}
    <div class="heading">
      {% if label %}
        <label{% if required is defined and required %} class="required"{% endif %}{% if id %} for="{{ id }}"{% endif %}>
          {{- label|raw -}}
        </label>
        {% if locale %}
          <span class="locale">{{ locale }}</span>
        {% endif %}
      {% endif %}
      {% if instructions %}
        <div class="instructions">{{ instructions|md }}</div>
      {% endif %}
    </div>
  {% endif %}
  <div class="input {{ orientation }}{% if errors %} errors{% endif %}">
    {%- if type == 'password' %}<div class="passwordwrapper">{% endif -%}
    <input class="{{ class }}" type="{{ type }}"
      {%- if style is defined %} style="{{ style }}"{% endif %}
      {%- if id is defined %} id="{{ id }}"{% endif %}
      {%- if size is defined %} size="{{ size }}"{% endif %}
      {%- if handle is defined %} name="{{ handle }}"{% endif %}
      {%- if value is defined %} value="{{ value }}"{% endif %}
      {%- if maxlength is defined and maxlength %} maxlength="{{ maxlength }}"{% endif %}
      {%- if showCharsLeft is defined and showCharsLeft %} data-show-chars-left{% endif %}
      {%- if autofocus is defined and autofocus and not craft.request.isMobileBrowser(true) %} autofocus{% endif %}
      {%- if autocomplete is not defined or not autocomplete %} autocomplete="off"{% endif %}
      {%- if disabled is defined and disabled %} disabled {% endif %}
      {%- if readonly is defined and readonly %} readonly {% endif %}
      {%- if required is defined and required %} required {% endif %}
      {%- if placeholder is defined %} placeholder="{{ placeholder }}"{% endif %}>
    {%- if type == 'password' %}</div>{% endif %}
  </div>
  {% include "formbuilder2/templates/inputs/errorList" with { errors: errors } %}
</div>



