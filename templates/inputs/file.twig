{%- set id = (id is defined ? id : 'file-' ~ random()) %}
{%- set label = (label is defined and label != '__blank__' ? label : null) %}
{%- set locale = ((craft.isLocalized() and locale is defined) ? locale : null) %}
{%- set instructions = (instructions is defined ? instructions : null) %}
{%- set errors = (errors is defined ? errors : null) -%}

<div class="field{% if first is defined and first %} first{% endif %}"{% if id %} id="{{ id }}-field"{% endif %}>
  {% if label or instructions %}
    <div class="heading">
      {% if label %}
        <label{% if required is defined and required %} class="required"{% endif %}{% if id %} for="{{ id }}"{% endif %}>
          {{- label|raw -}}
        </label>
        {% if locale %}
          <span class="locale">{{ locale }}</span>
        {% endif %}
      {% endif %}
      {% if instructions %}
        <div class="instructions">{{ instructions|md }}</div>
      {% endif %}
    </div>
  {% endif %}
  <div class="input{% if errors %} errors{% endif %} form-control-file">
    <input type="file"
    	{%- if id is defined %} id="{{ id }}"{% endif %}
    	{%- if class is defined %} class="{{ class }}"{% endif %}
    	{%- if name is defined %} name="{{ handle }}"{% endif %}
    	{%- if autofocus is defined and autofocus and not craft.request.isMobileBrowser(true) %} autofocus{% endif %}
    	{%- if disabled is defined and disabled %} disabled{% endif %}>
  </div>
</div>